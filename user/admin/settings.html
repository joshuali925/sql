<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Plugin Settings &#8212; Example 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=12dfc556" />
    <script src="../../_static/documentation_options.js?v=2709fde1"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="plugin-settings">
<h1>Plugin Settings<a class="headerlink" href="#plugin-settings" title="Link to this heading">¶</a></h1>
<p class="rubric">Table of contents</p>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id18">Introduction</a></p></li>
<li><p><a class="reference internal" href="#breaking-change" id="id19">Breaking Change</a></p></li>
<li><p><a class="reference internal" href="#plugins-sql-enabled" id="id20">plugins.sql.enabled</a></p></li>
<li><p><a class="reference internal" href="#plugins-sql-slowlog" id="id21">plugins.sql.slowlog</a></p></li>
<li><p><a class="reference internal" href="#plugins-sql-cursor-keep-alive" id="id22">plugins.sql.cursor.keep_alive</a></p></li>
<li><p><a class="reference internal" href="#plugins-query-size-limit" id="id23">plugins.query.size_limit</a></p></li>
<li><p><a class="reference internal" href="#plugins-query-memory-limit" id="id24">plugins.query.memory_limit</a></p></li>
<li><p><a class="reference internal" href="#plugins-sql-delete-enabled" id="id25">plugins.sql.delete.enabled</a></p></li>
<li><p><a class="reference internal" href="#plugins-query-executionengine-spark-session-limit" id="id26">plugins.query.executionengine.spark.session.limit</a></p></li>
<li><p><a class="reference internal" href="#plugins-query-executionengine-spark-refresh-job-limit" id="id27">plugins.query.executionengine.spark.refresh_job.limit</a></p></li>
<li><p><a class="reference internal" href="#plugins-query-datasources-limit" id="id28">plugins.query.datasources.limit</a></p></li>
<li><p><a class="reference internal" href="#plugins-query-executionengine-spark-session-inactivity-timeout-millis" id="id29">plugins.query.executionengine.spark.session_inactivity_timeout_millis</a></p></li>
<li><p><a class="reference internal" href="#plugins-query-executionengine-spark-auto-index-management-enabled" id="id30">plugins.query.executionengine.spark.auto_index_management.enabled</a></p></li>
<li><p><a class="reference internal" href="#plugins-query-executionengine-spark-session-index-ttl" id="id31">plugins.query.executionengine.spark.session.index.ttl</a></p></li>
<li><p><a class="reference internal" href="#plugins-query-executionengine-spark-result-index-ttl" id="id32">plugins.query.executionengine.spark.result.index.ttl</a></p></li>
<li><p><a class="reference internal" href="#plugins-query-executionengine-async-query-enabled" id="id33">plugins.query.executionengine.async_query.enabled</a></p></li>
<li><p><a class="reference internal" href="#plugins-query-executionengine-spark-streamingjobs-housekeeper-interval" id="id34">plugins.query.executionengine.spark.streamingjobs.housekeeper.interval</a></p></li>
</ul>
</nav>
<section id="introduction">
<h2><a class="toc-backref" href="#id18" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>When OpenSearch bootstraps, SQL plugin will register a few settings in OpenSearch cluster settings. Most of the settings are able to change dynamically so you can control the behavior of SQL plugin without need to bounce your cluster. You can update the settings by sending requests to either <code class="docutils literal notranslate"><span class="pre">_cluster/settings</span></code> or <code class="docutils literal notranslate"><span class="pre">_plugins/_query/settings</span></code> endpoint, though the examples are sending to the latter.</p>
</section>
<section id="breaking-change">
<h2><a class="toc-backref" href="#id19" role="doc-backlink">Breaking Change</a><a class="headerlink" href="#breaking-change" title="Link to this heading">¶</a></h2>
<section id="opendistro-sql-engine-new-enabled">
<h3>opendistro.sql.engine.new.enabled<a class="headerlink" href="#opendistro-sql-engine-new-enabled" title="Link to this heading">¶</a></h3>
<p>The opendistro.sql.engine.new.enabled setting is deprecated and will be removed then. From OpenSearch 1.0, the new engine is always enabled.</p>
</section>
<section id="opendistro-sql-query-analysis-enabled">
<h3>opendistro.sql.query.analysis.enabled<a class="headerlink" href="#opendistro-sql-query-analysis-enabled" title="Link to this heading">¶</a></h3>
<p>The opendistro.sql.query.analysis.enabled setting is deprecated and will be removed then. From OpenSearch 1.0, the query analysis in legacy engine is disabled.</p>
</section>
<section id="opendistro-sql-query-analysis-semantic-suggestion">
<h3>opendistro.sql.query.analysis.semantic.suggestion<a class="headerlink" href="#opendistro-sql-query-analysis-semantic-suggestion" title="Link to this heading">¶</a></h3>
<p>The opendistro.sql.query.analysis.semantic.suggestion setting is deprecated and will be removed then. From OpenSearch 1.0, the query analysis suggestion in legacy engine is disabled.</p>
</section>
<section id="opendistro-sql-query-analysis-semantic-threshold">
<h3>opendistro.sql.query.analysis.semantic.threshold<a class="headerlink" href="#opendistro-sql-query-analysis-semantic-threshold" title="Link to this heading">¶</a></h3>
<p>The opendistro.sql.query.analysis.semantic.threshold setting is deprecated and will be removed then. From OpenSearch 1.0, the query analysis threshold in legacy engine is disabled.</p>
</section>
<section id="opendistro-sql-query-response-format">
<h3>opendistro.sql.query.response.format<a class="headerlink" href="#opendistro-sql-query-response-format" title="Link to this heading">¶</a></h3>
<p>The opendistro.sql.query.response.format setting is deprecated and will be removed then. From OpenSearch 1.0, the query response format is default to JDBC format. <a href="#id35"><span class="problematic" id="id36">`You can change the format by using query parameters&lt;../interfaces/protocol.rst&gt;`_</span></a>.</p>
</section>
<section id="opendistro-sql-cursor-enabled">
<h3>opendistro.sql.cursor.enabled<a class="headerlink" href="#opendistro-sql-cursor-enabled" title="Link to this heading">¶</a></h3>
<p>The opendistro.sql.cursor.enabled setting is deprecated and will be removed then. From OpenSearch 1.0, the cursor feature is enabled by default.</p>
</section>
<section id="opendistro-sql-cursor-fetch-size">
<h3>opendistro.sql.cursor.fetch_size<a class="headerlink" href="#opendistro-sql-cursor-fetch-size" title="Link to this heading">¶</a></h3>
<p>The opendistro.sql.cursor.fetch_size setting is deprecated and will be removed then. From OpenSearch 1.0, the fetch_size in query body will decide whether create the cursor context. No cursor will be created if the fetch_size = 0.</p>
</section>
</section>
<section id="plugins-sql-enabled">
<h2><a class="toc-backref" href="#id20" role="doc-backlink">plugins.sql.enabled</a><a class="headerlink" href="#plugins-sql-enabled" title="Link to this heading">¶</a></h2>
<section id="description">
<h3>Description<a class="headerlink" href="#description" title="Link to this heading">¶</a></h3>
<p>You can disable SQL plugin to reject all coming requests.</p>
<ol class="arabic simple">
<li><p>The default value is true.</p></li>
<li><p>This setting is node scope.</p></li>
<li><p>This setting can be updated dynamically.</p></li>
</ol>
</section>
<section id="example-1">
<h3>Example 1<a class="headerlink" href="#example-1" title="Link to this heading">¶</a></h3>
<p>You can update the setting with a new value like this.</p>
<p>SQL query:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>&gt;&gt;<span class="w"> </span>curl<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>localhost:9200/_plugins/_query/settings<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">  &quot;transient&quot; : {</span>
<span class="s1">    &quot;plugins.sql.enabled&quot; : &quot;false&quot;</span>
<span class="s1">  }</span>
<span class="s1">}&#39;</span>
</pre></div>
</div>
<p>Result set:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="o">{</span>
<span class="w">  </span><span class="s2">&quot;acknowledged&quot;</span><span class="w"> </span>:<span class="w"> </span>true,
<span class="w">  </span><span class="s2">&quot;persistent&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="o">}</span>,
<span class="w">  </span><span class="s2">&quot;transient&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;plugins&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="s2">&quot;sql&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="s2">&quot;enabled&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="s2">&quot;false&quot;</span>
<span class="w">      </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Note: the legacy settings of <code class="docutils literal notranslate"><span class="pre">opendistro.sql.enabled</span></code> is deprecated, it will fallback to the new settings if you request an update with the legacy name.</p>
</section>
<section id="example-2">
<h3>Example 2<a class="headerlink" href="#example-2" title="Link to this heading">¶</a></h3>
<p>Query result after the setting updated is like:</p>
<p>SQL query:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>&gt;&gt;<span class="w"> </span>curl<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>localhost:9200/_plugins/_sql<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">  &quot;query&quot; : &quot;SELECT * FROM accounts&quot;</span>
<span class="s1">}&#39;</span>
</pre></div>
</div>
<p>Result set:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="o">{</span>
<span class="w">  </span><span class="s2">&quot;error&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;reason&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="s2">&quot;Invalid SQL query&quot;</span>,
<span class="w">    </span><span class="s2">&quot;details&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="s2">&quot;Either plugins.sql.enabled or rest.action.multi.allow_explicit_index setting is false&quot;</span>,
<span class="w">    </span><span class="s2">&quot;type&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="s2">&quot;SQLFeatureDisabledException&quot;</span>
<span class="w">  </span><span class="o">}</span>,
<span class="w">  </span><span class="s2">&quot;status&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="m">400</span>
<span class="o">}</span>
</pre></div>
</div>
</section>
</section>
<section id="plugins-sql-slowlog">
<h2><a class="toc-backref" href="#id21" role="doc-backlink">plugins.sql.slowlog</a><a class="headerlink" href="#plugins-sql-slowlog" title="Link to this heading">¶</a></h2>
<section id="id1">
<h3>Description<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<p>You can configure the time limit (seconds) for slow query which would be logged as ‘Slow query: elapsed=xxx (ms)’ in opensearch.log.</p>
<ol class="arabic simple">
<li><p>The default value is 2.</p></li>
<li><p>This setting is node scope.</p></li>
<li><p>This setting can be updated dynamically.</p></li>
</ol>
</section>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="Link to this heading">¶</a></h3>
<p>You can update the setting with a new value like this.</p>
<p>SQL query:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>&gt;&gt;<span class="w"> </span>curl<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>localhost:9200/_plugins/_query/settings<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">  &quot;transient&quot; : {</span>
<span class="s1">    &quot;plugins.query.slowlog&quot; : &quot;10&quot;</span>
<span class="s1">  }</span>
<span class="s1">}&#39;</span>
</pre></div>
</div>
<p>Result set:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="o">{</span>
<span class="w">  </span><span class="s2">&quot;acknowledged&quot;</span><span class="w"> </span>:<span class="w"> </span>true,
<span class="w">  </span><span class="s2">&quot;persistent&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="o">}</span>,
<span class="w">  </span><span class="s2">&quot;transient&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;plugins&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="s2">&quot;query&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="s2">&quot;slowlog&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="s2">&quot;10&quot;</span>
<span class="w">      </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Note: the legacy settings of <code class="docutils literal notranslate"><span class="pre">opendistro.sql.slowlog</span></code> is deprecated, it will fallback to the new settings if you request an update with the legacy name.</p>
</section>
</section>
<section id="plugins-sql-cursor-keep-alive">
<h2><a class="toc-backref" href="#id22" role="doc-backlink">plugins.sql.cursor.keep_alive</a><a class="headerlink" href="#plugins-sql-cursor-keep-alive" title="Link to this heading">¶</a></h2>
<section id="id2">
<h3>Description<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<p>User can set this value to indicate how long the cursor context should be kept open. Cursor contexts are resource heavy, and a lower value should be used if possible.</p>
<ol class="arabic simple">
<li><p>The default value is 1m.</p></li>
<li><p>This setting is node scope.</p></li>
<li><p>This setting can be updated dynamically.</p></li>
</ol>
</section>
<section id="id3">
<h3>Example<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<p>You can update the setting with a new value like this.</p>
<p>SQL query:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>&gt;&gt;<span class="w"> </span>curl<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>localhost:9200/_plugins/_query/settings<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">  &quot;transient&quot; : {</span>
<span class="s1">    &quot;plugins.sql.cursor.keep_alive&quot; : &quot;5m&quot;</span>
<span class="s1">  }</span>
<span class="s1">}&#39;</span>
</pre></div>
</div>
<p>Result set:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="o">{</span>
<span class="w">  </span><span class="s2">&quot;acknowledged&quot;</span><span class="w"> </span>:<span class="w"> </span>true,
<span class="w">  </span><span class="s2">&quot;persistent&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="o">}</span>,
<span class="w">  </span><span class="s2">&quot;transient&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;plugins&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="s2">&quot;sql&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="s2">&quot;cursor&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="o">{</span>
<span class="w">          </span><span class="s2">&quot;keep_alive&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="s2">&quot;5m&quot;</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">      </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Note: the legacy settings of <code class="docutils literal notranslate"><span class="pre">opendistro.sql.cursor.keep_alive</span></code> is deprecated, it will fallback to the new settings if you request an update with the legacy name.</p>
</section>
</section>
<section id="plugins-query-size-limit">
<h2><a class="toc-backref" href="#id23" role="doc-backlink">plugins.query.size_limit</a><a class="headerlink" href="#plugins-query-size-limit" title="Link to this heading">¶</a></h2>
<section id="id4">
<h3>Description<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<p>The new engine fetches a default size of index from OpenSearch set by this setting, the default value is 200. You can change the value to any value not greater than the max result window value in index level (10000 by default), here is an example:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>&gt;&gt;<span class="w"> </span>curl<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>localhost:9200/_plugins/_query/settings<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">  &quot;transient&quot; : {</span>
<span class="s1">    &quot;plugins.query.size_limit&quot; : 500</span>
<span class="s1">  }</span>
<span class="s1">}&#39;</span>
</pre></div>
</div>
<p>Result set:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="o">{</span>
<span class="w">  </span><span class="s2">&quot;acknowledged&quot;</span><span class="w"> </span>:<span class="w"> </span>true,
<span class="w">  </span><span class="s2">&quot;persistent&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="o">}</span>,
<span class="w">  </span><span class="s2">&quot;transient&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;plugins&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="s2">&quot;query&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="s2">&quot;size_limit&quot;</span><span class="w"> </span>:<span class="w"> </span><span class="s2">&quot;500&quot;</span>
<span class="w">      </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Note: the legacy settings of <code class="docutils literal notranslate"><span class="pre">opendistro.query.size_limit</span></code> is deprecated, it will fallback to the new settings if you request an update with the legacy name.</p>
</section>
</section>
<section id="plugins-query-memory-limit">
<h2><a class="toc-backref" href="#id24" role="doc-backlink">plugins.query.memory_limit</a><a class="headerlink" href="#plugins-query-memory-limit" title="Link to this heading">¶</a></h2>
<section id="id5">
<h3>Description<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<p>You can set heap memory usage limit for the query engine. When query running, it will detected whether the heap memory usage under the limit, if not, it will terminated the current query. The default value is: 85%. Here is an example:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>&gt;&gt;<span class="w"> </span>curl<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>localhost:9200/_plugins/_query/settings<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">  &quot;transient&quot; : {</span>
<span class="s1">    &quot;plugins.query.memory_limit&quot; : &quot;80%&quot;</span>
<span class="s1">  }</span>
<span class="s1">}&#39;</span>
</pre></div>
</div>
<p>Result set:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="o">{</span>
<span class="w">  </span><span class="s2">&quot;acknowledged&quot;</span>:<span class="w"> </span>true,
<span class="w">  </span><span class="s2">&quot;persistent&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;plugins&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="s2">&quot;query&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="s2">&quot;memory_limit&quot;</span>:<span class="w"> </span><span class="s2">&quot;80%&quot;</span>
<span class="w">      </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">  </span><span class="o">}</span>,
<span class="w">  </span><span class="s2">&quot;transient&quot;</span>:<span class="w"> </span><span class="o">{}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Note: the legacy settings of <code class="docutils literal notranslate"><span class="pre">opendistro.ppl.query.memory_limit</span></code> is deprecated, it will fallback to the new settings if you request an update with the legacy name.</p>
</section>
</section>
<section id="plugins-sql-delete-enabled">
<h2><a class="toc-backref" href="#id25" role="doc-backlink">plugins.sql.delete.enabled</a><a class="headerlink" href="#plugins-sql-delete-enabled" title="Link to this heading">¶</a></h2>
<section id="id6">
<h3>Description<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<p>By default, DELETE clause disabled. You can enable DELETE clause by this setting.</p>
<ol class="arabic simple">
<li><p>The default value is false.</p></li>
<li><p>This setting is node scope.</p></li>
<li><p>This setting can be updated dynamically.</p></li>
</ol>
</section>
<section id="id7">
<h3>Example 1<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h3>
<p>You can update the setting with a new value like this.</p>
<p>SQL query:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sh$<span class="w"> </span>curl<span class="w"> </span>-sS<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>localhost:9200/_plugins/_query/settings<span class="w"> </span><span class="se">\</span>
...<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;transient&quot;:{&quot;plugins.sql.delete.enabled&quot;:&quot;false&quot;}}&#39;</span>
<span class="o">{</span>
<span class="w">  </span><span class="s2">&quot;acknowledged&quot;</span>:<span class="w"> </span>true,
<span class="w">  </span><span class="s2">&quot;persistent&quot;</span>:<span class="w"> </span><span class="o">{}</span>,
<span class="w">  </span><span class="s2">&quot;transient&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;plugins&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="s2">&quot;sql&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="s2">&quot;delete&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">          </span><span class="s2">&quot;enabled&quot;</span>:<span class="w"> </span><span class="s2">&quot;false&quot;</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">      </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</section>
<section id="id8">
<h3>Example 2<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h3>
<p>Query result after the setting updated is like:</p>
<p>SQL query:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sh$<span class="w"> </span>curl<span class="w"> </span>-sS<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>localhost:9200/_plugins/_sql<span class="w"> </span><span class="se">\</span>
...<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;query&quot; : &quot;DELETE * FROM accounts&quot;}&#39;</span>
<span class="o">{</span>
<span class="w">  </span><span class="s2">&quot;error&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;reason&quot;</span>:<span class="w"> </span><span class="s2">&quot;Invalid SQL query&quot;</span>,
<span class="w">    </span><span class="s2">&quot;details&quot;</span>:<span class="w"> </span><span class="s2">&quot;DELETE clause is disabled by default and will be deprecated. Using the plugins.sql.delete.enabled setting to enable it&quot;</span>,
<span class="w">    </span><span class="s2">&quot;type&quot;</span>:<span class="w"> </span><span class="s2">&quot;SQLFeatureDisabledException&quot;</span>
<span class="w">  </span><span class="o">}</span>,
<span class="w">  </span><span class="s2">&quot;status&quot;</span>:<span class="w"> </span><span class="m">400</span>
<span class="o">}</span>
</pre></div>
</div>
</section>
</section>
<section id="plugins-query-executionengine-spark-session-limit">
<h2><a class="toc-backref" href="#id26" role="doc-backlink">plugins.query.executionengine.spark.session.limit</a><a class="headerlink" href="#plugins-query-executionengine-spark-session-limit" title="Link to this heading">¶</a></h2>
<section id="id9">
<h3>Description<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h3>
<p>Each cluster can have maximum 10 sessions running in parallel by default. You can increase limit by this setting.</p>
<ol class="arabic simple">
<li><p>The default value is 10.</p></li>
<li><p>This setting is node scope.</p></li>
<li><p>This setting can be updated dynamically.</p></li>
</ol>
<p>You can update the setting with a new value like this.</p>
<p>SQL query:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sh$<span class="w"> </span>curl<span class="w"> </span>-sS<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>localhost:9200/_cluster/settings<span class="w"> </span><span class="se">\</span>
...<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;transient&quot;:{&quot;plugins.query.executionengine.spark.session.limit&quot;:200}}&#39;</span>
<span class="o">{</span>
<span class="w">  </span><span class="s2">&quot;acknowledged&quot;</span>:<span class="w"> </span>true,
<span class="w">  </span><span class="s2">&quot;persistent&quot;</span>:<span class="w"> </span><span class="o">{}</span>,
<span class="w">  </span><span class="s2">&quot;transient&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;plugins&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="s2">&quot;query&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="s2">&quot;executionengine&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">          </span><span class="s2">&quot;spark&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="s2">&quot;session&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">              </span><span class="s2">&quot;limit&quot;</span>:<span class="w"> </span><span class="s2">&quot;200&quot;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">          </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">      </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</section>
</section>
<section id="plugins-query-executionengine-spark-refresh-job-limit">
<h2><a class="toc-backref" href="#id27" role="doc-backlink">plugins.query.executionengine.spark.refresh_job.limit</a><a class="headerlink" href="#plugins-query-executionengine-spark-refresh-job-limit" title="Link to this heading">¶</a></h2>
<section id="id10">
<h3>Description<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h3>
<p>Each cluster can have maximum 5 refresh job running concurrently. You can increase limit by this setting.</p>
<ol class="arabic simple">
<li><p>The default value is 5.</p></li>
<li><p>This setting is node scope.</p></li>
<li><p>This setting can be updated dynamically.</p></li>
</ol>
<p>You can update the setting with a new value like this.</p>
<p>SQL query:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sh$<span class="w"> </span>curl<span class="w"> </span>-sS<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>localhost:9200/_cluster/settings<span class="w"> </span><span class="se">\</span>
...<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;transient&quot;:{&quot;plugins.query.executionengine.spark.refresh_job.limit&quot;:200}}&#39;</span>
<span class="o">{</span>
<span class="w">  </span><span class="s2">&quot;acknowledged&quot;</span>:<span class="w"> </span>true,
<span class="w">  </span><span class="s2">&quot;persistent&quot;</span>:<span class="w"> </span><span class="o">{}</span>,
<span class="w">  </span><span class="s2">&quot;transient&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;plugins&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="s2">&quot;query&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="s2">&quot;executionengine&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">          </span><span class="s2">&quot;spark&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="s2">&quot;refresh_job&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">              </span><span class="s2">&quot;limit&quot;</span>:<span class="w"> </span><span class="s2">&quot;200&quot;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">          </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">      </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</section>
</section>
<section id="plugins-query-datasources-limit">
<h2><a class="toc-backref" href="#id28" role="doc-backlink">plugins.query.datasources.limit</a><a class="headerlink" href="#plugins-query-datasources-limit" title="Link to this heading">¶</a></h2>
<section id="id11">
<h3>Description<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h3>
<p>Each cluster can have maximum 20 datasources. You can increase limit by this setting.</p>
<ol class="arabic simple">
<li><p>The default value is 20.</p></li>
<li><p>This setting is node scope.</p></li>
<li><p>This setting can be updated dynamically.</p></li>
</ol>
<p>You can update the setting with a new value like this.</p>
<p>SQL query:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sh$<span class="w"> </span>curl<span class="w"> </span>-sS<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>localhost:9200/_cluster/settings<span class="w"> </span><span class="se">\</span>
...<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;transient&quot;:{&quot;plugins.query.datasources.limit&quot;:25}}&#39;</span>
<span class="o">{</span>
<span class="w">  </span><span class="s2">&quot;acknowledged&quot;</span>:<span class="w"> </span>true,
<span class="w">  </span><span class="s2">&quot;persistent&quot;</span>:<span class="w"> </span><span class="o">{}</span>,
<span class="w">  </span><span class="s2">&quot;transient&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;plugins&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="s2">&quot;query&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="s2">&quot;datasources&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">          </span><span class="s2">&quot;limit&quot;</span>:<span class="w"> </span><span class="s2">&quot;25&quot;</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">      </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</section>
</section>
<section id="plugins-query-executionengine-spark-session-inactivity-timeout-millis">
<h2><a class="toc-backref" href="#id29" role="doc-backlink">plugins.query.executionengine.spark.session_inactivity_timeout_millis</a><a class="headerlink" href="#plugins-query-executionengine-spark-session-inactivity-timeout-millis" title="Link to this heading">¶</a></h2>
<section id="id12">
<h3>Description<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h3>
<p>This setting determines the duration after which a session is considered stale if there has been no update. The default
timeout is 3 minutes (180,000 milliseconds).</p>
<ol class="arabic simple">
<li><p>Default Value: 180000 (milliseconds)</p></li>
<li><p>Scope: Node-level</p></li>
<li><p>Dynamic Update: Yes, this setting can be updated dynamically.</p></li>
</ol>
<p>To change the session inactivity timeout to 10 minutes for example, use the following command:</p>
<p>SQL query:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sh$<span class="w"> </span>curl<span class="w"> </span>-sS<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>localhost:9200/_cluster/settings<span class="w"> </span><span class="se">\</span>
...<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;transient&quot;:{&quot;plugins.query.executionengine.spark.session_inactivity_timeout_millis&quot;:600000}}&#39;</span>
<span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;acknowledged&quot;</span>:<span class="w"> </span>true,
<span class="w">    </span><span class="s2">&quot;persistent&quot;</span>:<span class="w"> </span><span class="o">{}</span>,
<span class="w">    </span><span class="s2">&quot;transient&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="s2">&quot;plugins&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="s2">&quot;query&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="s2">&quot;executionengine&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                    </span><span class="s2">&quot;spark&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                        </span><span class="s2">&quot;session_inactivity_timeout_millis&quot;</span>:<span class="w"> </span><span class="s2">&quot;600000&quot;</span>
<span class="w">                    </span><span class="o">}</span>
<span class="w">                </span><span class="o">}</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</section>
</section>
<section id="plugins-query-executionengine-spark-auto-index-management-enabled">
<h2><a class="toc-backref" href="#id30" role="doc-backlink">plugins.query.executionengine.spark.auto_index_management.enabled</a><a class="headerlink" href="#plugins-query-executionengine-spark-auto-index-management-enabled" title="Link to this heading">¶</a></h2>
<section id="id13">
<h3>Description<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h3>
<p>This setting controls the automatic management of request and result indices for each data source. When enabled, it
deletes outdated index documents.</p>
<ul class="simple">
<li><p>Default State: Enabled (true)</p></li>
<li><p>Purpose: Manages auto index management for request and result indices.</p></li>
</ul>
<p>To disable auto index management, use the following command:</p>
<p>SQL query:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sh$<span class="w"> </span>curl<span class="w"> </span>-sS<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>localhost:9200/_cluster/settings<span class="w"> </span><span class="se">\</span>
...<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;transient&quot;:{&quot;plugins.query.executionengine.spark.auto_index_management.enabled&quot;:false}}&#39;</span>
<span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;acknowledged&quot;</span>:<span class="w"> </span>true,
<span class="w">    </span><span class="s2">&quot;persistent&quot;</span>:<span class="w"> </span><span class="o">{}</span>,
<span class="w">    </span><span class="s2">&quot;transient&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="s2">&quot;plugins&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="s2">&quot;query&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="s2">&quot;executionengine&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                    </span><span class="s2">&quot;spark&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                        </span><span class="s2">&quot;auto_index_management&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                            </span><span class="s2">&quot;enabled&quot;</span>:<span class="w"> </span><span class="s2">&quot;false&quot;</span>
<span class="w">                        </span><span class="o">}</span>
<span class="w">                    </span><span class="o">}</span>
<span class="w">                </span><span class="o">}</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</section>
</section>
<section id="plugins-query-executionengine-spark-session-index-ttl">
<h2><a class="toc-backref" href="#id31" role="doc-backlink">plugins.query.executionengine.spark.session.index.ttl</a><a class="headerlink" href="#plugins-query-executionengine-spark-session-index-ttl" title="Link to this heading">¶</a></h2>
<section id="id14">
<h3>Description<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h3>
<p>This setting defines the time-to-live (TTL) for request indices when plugins.query.executionengine.spark.auto_index_management.enabled
is true. By default, request indices older than 14 days are deleted.</p>
<ul class="simple">
<li><p>Default Value: 30 days</p></li>
</ul>
<p>To change the TTL to 60 days for example, execute the following command:</p>
<p>SQL query:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sh$<span class="w"> </span>curl<span class="w"> </span>-sS<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>localhost:9200/_cluster/settings<span class="w"> </span><span class="se">\</span>
...<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;transient&quot;:{&quot;plugins.query.executionengine.spark.session.index.ttl&quot;:&quot;60d&quot;}}&#39;</span>
<span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;acknowledged&quot;</span>:<span class="w"> </span>true,
<span class="w">    </span><span class="s2">&quot;persistent&quot;</span>:<span class="w"> </span><span class="o">{}</span>,
<span class="w">    </span><span class="s2">&quot;transient&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="s2">&quot;plugins&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="s2">&quot;query&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="s2">&quot;executionengine&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                    </span><span class="s2">&quot;spark&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                        </span><span class="s2">&quot;session&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                            </span><span class="s2">&quot;index&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                                </span><span class="s2">&quot;ttl&quot;</span>:<span class="w"> </span><span class="s2">&quot;60d&quot;</span>
<span class="w">                            </span><span class="o">}</span>
<span class="w">                        </span><span class="o">}</span>
<span class="w">                    </span><span class="o">}</span>
<span class="w">                </span><span class="o">}</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</section>
</section>
<section id="plugins-query-executionengine-spark-result-index-ttl">
<h2><a class="toc-backref" href="#id32" role="doc-backlink">plugins.query.executionengine.spark.result.index.ttl</a><a class="headerlink" href="#plugins-query-executionengine-spark-result-index-ttl" title="Link to this heading">¶</a></h2>
<section id="id15">
<h3>Description<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h3>
<p>This setting specifies the TTL for result indices when plugins.query.executionengine.spark.auto_index_management.enabled
is set to true. The default setting is to delete result indices older than 60 days.</p>
<ul class="simple">
<li><p>Default Value: 60 days</p></li>
</ul>
<p>To modify the TTL to 30 days for example, use this command:</p>
<p>SQL query:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sh$<span class="w"> </span>curl<span class="w"> </span>-sS<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>localhost:9200/_cluster/settings<span class="w"> </span><span class="se">\</span>
...<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;transient&quot;:{&quot;plugins.query.executionengine.spark.result.index.ttl&quot;:&quot;30d&quot;}}&#39;</span>
<span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;acknowledged&quot;</span>:<span class="w"> </span>true,
<span class="w">    </span><span class="s2">&quot;persistent&quot;</span>:<span class="w"> </span><span class="o">{}</span>,
<span class="w">    </span><span class="s2">&quot;transient&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="s2">&quot;plugins&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="s2">&quot;query&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="s2">&quot;executionengine&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                    </span><span class="s2">&quot;spark&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                        </span><span class="s2">&quot;result&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                            </span><span class="s2">&quot;index&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                                </span><span class="s2">&quot;ttl&quot;</span>:<span class="w"> </span><span class="s2">&quot;30d&quot;</span>
<span class="w">                            </span><span class="o">}</span>
<span class="w">                        </span><span class="o">}</span>
<span class="w">                    </span><span class="o">}</span>
<span class="w">                </span><span class="o">}</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</section>
</section>
<section id="plugins-query-executionengine-async-query-enabled">
<h2><a class="toc-backref" href="#id33" role="doc-backlink">plugins.query.executionengine.async_query.enabled</a><a class="headerlink" href="#plugins-query-executionengine-async-query-enabled" title="Link to this heading">¶</a></h2>
<section id="id16">
<h3>Description<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h3>
<p>You can disable submit async query to reject all coming requests.</p>
<ol class="arabic simple">
<li><p>The default value is true.</p></li>
<li><p>This setting is node scope.</p></li>
<li><p>This setting can be updated dynamically.</p></li>
</ol>
<p>Request:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sh$<span class="w"> </span>curl<span class="w"> </span>-sS<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>localhost:9200/_cluster/settings<span class="w"> </span><span class="se">\</span>
...<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;transient&quot;:{&quot;plugins.query.executionengine.async_query.enabled&quot;:&quot;false&quot;}}&#39;</span>
<span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;acknowledged&quot;</span>:<span class="w"> </span>true,
<span class="w">    </span><span class="s2">&quot;persistent&quot;</span>:<span class="w"> </span><span class="o">{}</span>,
<span class="w">    </span><span class="s2">&quot;transient&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="s2">&quot;plugins&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="s2">&quot;query&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="s2">&quot;executionengine&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                    </span><span class="s2">&quot;async_query&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                        </span><span class="s2">&quot;enabled&quot;</span>:<span class="w"> </span><span class="s2">&quot;false&quot;</span>
<span class="w">                    </span><span class="o">}</span>
<span class="w">                </span><span class="o">}</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</section>
</section>
<section id="plugins-query-executionengine-spark-streamingjobs-housekeeper-interval">
<h2><a class="toc-backref" href="#id34" role="doc-backlink">plugins.query.executionengine.spark.streamingjobs.housekeeper.interval</a><a class="headerlink" href="#plugins-query-executionengine-spark-streamingjobs-housekeeper-interval" title="Link to this heading">¶</a></h2>
<section id="id17">
<h3>Description<a class="headerlink" href="#id17" title="Link to this heading">¶</a></h3>
<p>This setting specifies the interval at which the streaming job housekeeper runs to clean up streaming jobs associated with deleted and disabled data sources.
The default configuration executes this cleanup every 15 minutes.</p>
<ul class="simple">
<li><p>Default Value: 15 minutes</p></li>
</ul>
<p>To modify the TTL to 30 minutes for example, use this command:</p>
<p>Request</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sh$<span class="w"> </span>curl<span class="w"> </span>-sS<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>localhost:9200/_cluster/settings<span class="w"> </span><span class="se">\</span>
...<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;transient&quot;:{&quot;plugins.query.executionengine.spark.streamingjobs.housekeeper.interval&quot;:&quot;30m&quot;}}&#39;</span>
<span class="o">{</span>
<span class="s2">&quot;acknowledged&quot;</span>:<span class="w"> </span>true,
<span class="s2">&quot;persistent&quot;</span>:<span class="w"> </span><span class="o">{}</span>,
<span class="s2">&quot;transient&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;plugins&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="s2">&quot;query&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="s2">&quot;executionengine&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="s2">&quot;spark&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                    </span><span class="s2">&quot;streamingjobs&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                        </span><span class="s2">&quot;housekeeper&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">                            </span><span class="s2">&quot;interval&quot;</span>:<span class="w"> </span><span class="s2">&quot;30m&quot;</span>
<span class="w">                        </span><span class="o">}</span>
<span class="w">                    </span><span class="o">}</span>
<span class="w">                </span><span class="o">}</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Example</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;workshop participant.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../../_sources/user/admin/settings.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
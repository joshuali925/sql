<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Expressions &#8212; Example 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=12dfc556" />
    <script src="../../_static/documentation_options.js?v=2709fde1"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="expressions">
<h1>Expressions<a class="headerlink" href="#expressions" title="Link to this heading">¶</a></h1>
<p class="rubric">Table of contents</p>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id7">Introduction</a></p></li>
<li><p><a class="reference internal" href="#literal-values" id="id8">Literal Values</a></p>
<ul>
<li><p><a class="reference internal" href="#description" id="id9">Description</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id10">Examples</a></p></li>
<li><p><a class="reference internal" href="#limitations" id="id11">Limitations</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#arithmetic-expressions" id="id12">Arithmetic Expressions</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id13">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#operators" id="id14">Operators</a></p></li>
<li><p><a class="reference internal" href="#precedence" id="id15">Precedence</a></p></li>
<li><p><a class="reference internal" href="#type-conversion" id="id16">Type Conversion</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id2" id="id17">Examples</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#comparison-operators" id="id18">Comparison Operators</a></p>
<ul>
<li><p><a class="reference internal" href="#id3" id="id19">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#id4" id="id20">Operators</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#basic-comparison-operator" id="id21">Basic Comparison Operator</a></p></li>
<li><p><a class="reference internal" href="#like" id="id22">LIKE</a></p></li>
<li><p><a class="reference internal" href="#null-value-test" id="id23">NULL value test</a></p></li>
<li><p><a class="reference internal" href="#regexp-value-test" id="id24">REGEXP value test</a></p></li>
<li><p><a class="reference internal" href="#in-value-list-test" id="id25">IN value list test</a></p></li>
<li><p><a class="reference internal" href="#between-range-test" id="id26">BETWEEN range test</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#function-call" id="id27">Function Call</a></p>
<ul>
<li><p><a class="reference internal" href="#id5" id="id28">Description</a></p>
<ul>
<li><p><a class="reference internal" href="#syntax" id="id29">Syntax</a></p></li>
<li><p><a class="reference internal" href="#null-handling" id="id30">Null Handling</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#arithmetic-function-examples" id="id31">Arithmetic function examples</a></p></li>
<li><p><a class="reference internal" href="#date-function-examples" id="id32">Date function examples</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id33">Limitations</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="introduction">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>Expressions, particularly value expressions, are those which return a scalar value. Expressions have different types and forms. For example, there are literal values as atom expression and arithmetic, predicate and function expression built on top of them. And also expressions can be used in different clauses, such as using arithmetic expression in <code class="docutils literal notranslate"><span class="pre">SELECT</span></code>, <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> or <code class="docutils literal notranslate"><span class="pre">HAVING</span></code> clause.</p>
</section>
<section id="literal-values">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Literal Values</a><a class="headerlink" href="#literal-values" title="Link to this heading">¶</a></h2>
<section id="description">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Link to this heading">¶</a></h3>
<p>A literal is a symbol that represents a value. The most common literal values include:</p>
<ol class="arabic simple">
<li><p>Numeric literals: specify numeric values such as integer and floating-point numbers.</p></li>
<li><p>String literals: specify a string enclosed by single or double quotes.</p></li>
<li><p>Boolean literals: <code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p>Date and Time literals: DATE ‘YYYY-MM-DD’ represent the date, TIME ‘hh:mm:ss’ represent the time, TIMESTAMP ‘YYYY-MM-DD hh:mm:ss’ represent the timestamp. You can also surround the literals with curly brackets, if you do, you can replace date with d, time with t, and timestamp with ts</p></li>
</ol>
</section>
<section id="examples">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Examples</a><a class="headerlink" href="#examples" title="Link to this heading">¶</a></h3>
<p>Here is an example for different type of literals:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="mi">123</span><span class="p">,</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.567</span><span class="p">,</span> <span class="n">DATE</span> <span class="s1">&#39;2020-07-07&#39;</span><span class="p">,</span> <span class="n">TIME</span> <span class="s1">&#39;01:01:01&#39;</span><span class="p">,</span> <span class="n">TIMESTAMP</span> <span class="s1">&#39;2020-07-07 01:01:01&#39;</span><span class="p">;</span>
<span class="n">fetched</span> <span class="n">rows</span> <span class="o">/</span> <span class="n">total</span> <span class="n">rows</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>
<span class="o">+-------+-----------+---------+----------+---------------------+-------------------+-----------------------------------+</span>
<span class="o">|</span> <span class="mi">123</span>   <span class="o">|</span> <span class="s1">&#39;hello&#39;</span>   <span class="o">|</span> <span class="n">false</span>   <span class="o">|</span> <span class="o">-</span><span class="mf">4.567</span>   <span class="o">|</span> <span class="n">DATE</span> <span class="s1">&#39;2020-07-07&#39;</span>   <span class="o">|</span> <span class="n">TIME</span> <span class="s1">&#39;01:01:01&#39;</span>   <span class="o">|</span> <span class="n">TIMESTAMP</span> <span class="s1">&#39;2020-07-07 01:01:01&#39;</span>   <span class="o">|</span>
<span class="o">|-------+-----------+---------+----------+---------------------+-------------------+-----------------------------------|</span>
<span class="o">|</span> <span class="mi">123</span>   <span class="o">|</span> <span class="n">hello</span>     <span class="o">|</span> <span class="kc">False</span>   <span class="o">|</span> <span class="o">-</span><span class="mf">4.567</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">07</span>          <span class="o">|</span> <span class="mi">01</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mi">01</span>          <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">07</span> <span class="mi">01</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mi">01</span>               <span class="o">|</span>
<span class="o">+-------+-----------+---------+----------+---------------------+-------------------+-----------------------------------+</span>


<span class="n">os</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="s2">&quot;Hello&quot;</span><span class="p">,</span> <span class="s1">&#39;Hello&#39;</span><span class="p">,</span> <span class="s2">&quot;It&quot;&quot;s&quot;</span><span class="p">,</span> <span class="s1">&#39;It&#39;&#39;s&#39;</span><span class="p">,</span> <span class="s2">&quot;It&#39;s&quot;</span><span class="p">,</span> <span class="s1">&#39;&quot;Its&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;It</span><span class="se">\&#39;</span><span class="s1">s&#39;</span><span class="p">,</span> <span class="s1">&#39;It</span><span class="se">\\\&#39;</span><span class="s1">s&#39;</span><span class="p">,</span> <span class="s2">&quot;\I</span><span class="se">\t</span><span class="s2">\s&quot;</span>
<span class="n">fetched</span> <span class="n">rows</span> <span class="o">/</span> <span class="n">total</span> <span class="n">rows</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>
<span class="o">+-----------+-----------+-----------+-----------+----------+-----------+-----------+-------------+------------+</span>
<span class="o">|</span> <span class="s2">&quot;Hello&quot;</span>   <span class="o">|</span> <span class="s1">&#39;Hello&#39;</span>   <span class="o">|</span> <span class="s2">&quot;It&quot;&quot;s&quot;</span>   <span class="o">|</span> <span class="s1">&#39;It&#39;&#39;s&#39;</span>   <span class="o">|</span> <span class="s2">&quot;It&#39;s&quot;</span>   <span class="o">|</span> <span class="s1">&#39;&quot;Its&quot;&#39;</span>   <span class="o">|</span> <span class="s1">&#39;It</span><span class="se">\&#39;</span><span class="s1">s&#39;</span>   <span class="o">|</span> <span class="s1">&#39;It</span><span class="se">\\\&#39;</span><span class="s1">s&#39;</span>   <span class="o">|</span> <span class="s2">&quot;\I</span><span class="se">\t</span><span class="s2">\s&quot;</span>   <span class="o">|</span>
<span class="o">|-----------+-----------+-----------+-----------+----------+-----------+-----------+-------------+------------|</span>
<span class="o">|</span> <span class="n">Hello</span>     <span class="o">|</span> <span class="n">Hello</span>     <span class="o">|</span> <span class="n">It</span><span class="s2">&quot;s      | It&#39;s      | It&#39;s     | &quot;</span><span class="n">Its</span><span class="s2">&quot;     | It&#39;s      | It</span><span class="se">\&#39;</span><span class="s2">s       | \I</span><span class="se">\t</span><span class="s2">\s     |</span>
<span class="o">+-----------+-----------+-----------+-----------+----------+-----------+-----------+-------------+------------+</span>


<span class="n">os</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="p">{</span><span class="n">DATE</span> <span class="s1">&#39;2020-07-07&#39;</span><span class="p">},</span> <span class="p">{</span><span class="n">D</span> <span class="s1">&#39;2020-07-07&#39;</span><span class="p">},</span> <span class="p">{</span><span class="n">TIME</span> <span class="s1">&#39;01:01:01&#39;</span><span class="p">},</span> <span class="p">{</span><span class="n">T</span> <span class="s1">&#39;01:01:01&#39;</span><span class="p">},</span> <span class="p">{</span><span class="n">TIMESTAMP</span> <span class="s1">&#39;2020-07-07 01:01:01&#39;</span><span class="p">},</span> <span class="p">{</span><span class="n">TS</span> <span class="s1">&#39;2020-07-07 01:01:01&#39;</span><span class="p">}</span>
<span class="n">fetched</span> <span class="n">rows</span> <span class="o">/</span> <span class="n">total</span> <span class="n">rows</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>
<span class="o">+-----------------------+--------------------+---------------------+------------------+-------------------------------------+------------------------------+</span>
<span class="o">|</span> <span class="p">{</span><span class="n">DATE</span> <span class="s1">&#39;2020-07-07&#39;</span><span class="p">}</span>   <span class="o">|</span> <span class="p">{</span><span class="n">D</span> <span class="s1">&#39;2020-07-07&#39;</span><span class="p">}</span>   <span class="o">|</span> <span class="p">{</span><span class="n">TIME</span> <span class="s1">&#39;01:01:01&#39;</span><span class="p">}</span>   <span class="o">|</span> <span class="p">{</span><span class="n">T</span> <span class="s1">&#39;01:01:01&#39;</span><span class="p">}</span>   <span class="o">|</span> <span class="p">{</span><span class="n">TIMESTAMP</span> <span class="s1">&#39;2020-07-07 01:01:01&#39;</span><span class="p">}</span>   <span class="o">|</span> <span class="p">{</span><span class="n">TS</span> <span class="s1">&#39;2020-07-07 01:01:01&#39;</span><span class="p">}</span>   <span class="o">|</span>
<span class="o">|-----------------------+--------------------+---------------------+------------------+-------------------------------------+------------------------------|</span>
<span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">07</span>            <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">07</span>         <span class="o">|</span> <span class="mi">01</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mi">01</span>            <span class="o">|</span> <span class="mi">01</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mi">01</span>         <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">07</span> <span class="mi">01</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mi">01</span>                 <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">07</span> <span class="mi">01</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mi">01</span>          <span class="o">|</span>
<span class="o">+-----------------------+--------------------+---------------------+------------------+-------------------------------------+------------------------------+</span>
</pre></div>
</div>
</section>
<section id="limitations">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Limitations</a><a class="headerlink" href="#limitations" title="Link to this heading">¶</a></h3>
<p>The current implementation has the following limitations at the moment:</p>
<ol class="arabic simple">
<li><p>Only literals of data types listed as above are supported for now. Other type of literals, such as NULL, will be added in future.</p></li>
<li><p>Expression of literals, such as arithmetic expressions, will be supported later.</p></li>
<li><p>Standard ANSI <code class="docutils literal notranslate"><span class="pre">VALUES</span></code> clause is not supported, although the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> literal example above is implemented by a Values operator internally.</p></li>
<li><p>Date and Time literals only support DATE_FORMAT listed above.</p></li>
</ol>
</section>
</section>
<section id="arithmetic-expressions">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">Arithmetic Expressions</a><a class="headerlink" href="#arithmetic-expressions" title="Link to this heading">¶</a></h2>
<section id="id1">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Description</a><a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<section id="operators">
<h4><a class="toc-backref" href="#id14" role="doc-backlink">Operators</a><a class="headerlink" href="#operators" title="Link to this heading">¶</a></h4>
<p>Arithmetic expression is an expression formed by numeric literals and binary arithmetic operators as follows:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">+</span></code>: Add.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-</span></code>: Subtract.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*</span></code>: Multiply.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/</span></code>: Divide. For integers, the result is an integer with fractional part discarded.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%</span></code>: Modulo. This can be used with integers only with remainder of the division as result.</p></li>
</ol>
</section>
<section id="precedence">
<h4><a class="toc-backref" href="#id15" role="doc-backlink">Precedence</a><a class="headerlink" href="#precedence" title="Link to this heading">¶</a></h4>
<p>Parentheses can be used to control the precedence of arithmetic operators. Otherwise, operators of higher precedence is performed first.</p>
</section>
<section id="type-conversion">
<h4><a class="toc-backref" href="#id16" role="doc-backlink">Type Conversion</a><a class="headerlink" href="#type-conversion" title="Link to this heading">¶</a></h4>
<p>Implicit type conversion is performed when looking up operator signature. For example, an integer <code class="docutils literal notranslate"><span class="pre">+</span></code> a real number matches signature <code class="docutils literal notranslate"><span class="pre">+(double,double)</span></code> which results in a real number. This rule also applies to function call discussed below.</p>
</section>
</section>
<section id="id2">
<h3><a class="toc-backref" href="#id17" role="doc-backlink">Examples</a><a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<p>Here is an example for different type of arithmetic expressions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="mi">9</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span>
<span class="n">fetched</span> <span class="n">rows</span> <span class="o">/</span> <span class="n">total</span> <span class="n">rows</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>
<span class="o">+---------+---------------+-------------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span>   <span class="o">|</span> <span class="p">(</span><span class="mi">9</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">3</span>   <span class="o">|</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">/</span> <span class="mi">3</span>   <span class="o">|</span>
<span class="o">|---------+---------------+-------------|</span>
<span class="o">|</span> <span class="mi">3</span>       <span class="o">|</span> <span class="mi">2</span>             <span class="o">|</span> <span class="mi">2</span>           <span class="o">|</span>
<span class="o">+---------+---------------+-------------+</span>
</pre></div>
</div>
</section>
</section>
<section id="comparison-operators">
<h2><a class="toc-backref" href="#id18" role="doc-backlink">Comparison Operators</a><a class="headerlink" href="#comparison-operators" title="Link to this heading">¶</a></h2>
<section id="id3">
<h3><a class="toc-backref" href="#id19" role="doc-backlink">Description</a><a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<p>Comparison operators are used to compare values. The MISSING and NULL value comparison has following the rule. MISSING value only equal to MISSING value and less than all the other values. NULL value equals to NULL value, large than MISSING value, but less than all the other values.</p>
<section id="id4">
<h4><a class="toc-backref" href="#id20" role="doc-backlink">Operators</a><a class="headerlink" href="#id4" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>name</p></td>
<td><p>description</p></td>
</tr>
<tr class="row-even"><td><p>&gt;</p></td>
<td><p>Greater than operator</p></td>
</tr>
<tr class="row-odd"><td><p>&gt;=</p></td>
<td><p>Greater than or equal operator</p></td>
</tr>
<tr class="row-even"><td><p>&lt;</p></td>
<td><p>Less than operator</p></td>
</tr>
<tr class="row-odd"><td><p>!=</p></td>
<td><p>Not equal operator</p></td>
</tr>
<tr class="row-even"><td><p>&lt;=</p></td>
<td><p>Less than or equal operator</p></td>
</tr>
<tr class="row-odd"><td><p>=</p></td>
<td><p>Equal operator</p></td>
</tr>
<tr class="row-even"><td><p>LIKE</p></td>
<td><p>Simple Pattern matching</p></td>
</tr>
<tr class="row-odd"><td><p>IS NULL</p></td>
<td><p>NULL value test</p></td>
</tr>
<tr class="row-even"><td><p>IS NOT NULL</p></td>
<td><p>NOT NULL value test</p></td>
</tr>
<tr class="row-odd"><td><p>IS MISSING</p></td>
<td><p>MISSING value test</p></td>
</tr>
<tr class="row-even"><td><p>IS NOT MISSING</p></td>
<td><p>NOT MISSING value test</p></td>
</tr>
<tr class="row-odd"><td><p>REGEXP</p></td>
<td><p>String matches regular expression test</p></td>
</tr>
<tr class="row-even"><td><p>IN</p></td>
<td><p>IN value list test</p></td>
</tr>
<tr class="row-odd"><td><p>NOT IN</p></td>
<td><p>NOT IN value list test</p></td>
</tr>
<tr class="row-even"><td><p>BETWEEN</p></td>
<td><p>Between a range (endpoint inclusive)</p></td>
</tr>
<tr class="row-odd"><td><p>NOT BETWEEN</p></td>
<td><p>Not between a range (BETWEEN negation)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="basic-comparison-operator">
<h3><a class="toc-backref" href="#id21" role="doc-backlink">Basic Comparison Operator</a><a class="headerlink" href="#basic-comparison-operator" title="Link to this heading">¶</a></h3>
<p>Here is an example for different type of comparison operators:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="mi">2</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">fetched</span> <span class="n">rows</span> <span class="o">/</span> <span class="n">total</span> <span class="n">rows</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>
<span class="o">+---------+----------+---------+----------+----------+---------+</span>
<span class="o">|</span> <span class="mi">2</span> <span class="o">&gt;</span> <span class="mi">1</span>   <span class="o">|</span> <span class="mi">2</span> <span class="o">&gt;=</span> <span class="mi">1</span>   <span class="o">|</span> <span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">1</span>   <span class="o">|</span> <span class="mi">2</span> <span class="o">!=</span> <span class="mi">1</span>   <span class="o">|</span> <span class="mi">2</span> <span class="o">&lt;=</span> <span class="mi">1</span>   <span class="o">|</span> <span class="mi">2</span> <span class="o">=</span> <span class="mi">1</span>   <span class="o">|</span>
<span class="o">|---------+----------+---------+----------+----------+---------|</span>
<span class="o">|</span> <span class="kc">True</span>    <span class="o">|</span> <span class="kc">True</span>     <span class="o">|</span> <span class="kc">False</span>   <span class="o">|</span> <span class="kc">True</span>     <span class="o">|</span> <span class="kc">False</span>    <span class="o">|</span> <span class="kc">False</span>   <span class="o">|</span>
<span class="o">+---------+----------+---------+----------+----------+---------+</span>
</pre></div>
</div>
<p>It is possible to compare datetimes. When comparing different datetime types, for example <cite>DATE</cite> and <cite>TIME</cite>, both converted to <cite>TIMESTAMP</cite>.
The following rule is applied on coversion: a <cite>TIME</cite> applied to today’s date; <cite>DATE</cite> is interpreted at midnight. See example below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>os&gt; SELECT current_time() &gt; current_date() AS `now.time &gt; today`, typeof(current_time()) AS `now.time.type`, typeof(current_date()) AS `now.date.type`;
fetched rows / total rows = 1/1
+--------------------+-----------------+-----------------+
| now.time &gt; today   | now.time.type   | now.date.type   |
|--------------------+-----------------+-----------------|
| True               | TIME            | DATE            |
+--------------------+-----------------+-----------------+

os&gt; SELECT current_time() = now() AS `now.time = now`, typeof(current_time()) AS `now.time.type`, typeof(now()) AS `now.type`;
fetched rows / total rows = 1/1
+------------------+-----------------+------------+
| now.time = now   | now.time.type   | now.type   |
|------------------+-----------------+------------|
| True             | TIME            | TIMESTAMP  |
+------------------+-----------------+------------+

os&gt; SELECT subtime(now(), current_time()) = current_date() AS `midnight = now.date`, typeof(subtime(now(), current_time())) AS `midnight.type`, typeof(current_date()) AS `now.date.type`;
fetched rows / total rows = 1/1
+-----------------------+-----------------+-----------------+
| midnight = now.date   | midnight.type   | now.date.type   |
|-----------------------+-----------------+-----------------|
| True                  | TIMESTAMP       | DATE            |
+-----------------------+-----------------+-----------------+
</pre></div>
</div>
</section>
<section id="like">
<h3><a class="toc-backref" href="#id22" role="doc-backlink">LIKE</a><a class="headerlink" href="#like" title="Link to this heading">¶</a></h3>
<p>expr LIKE pattern. The expr is string value, pattern is supports literal text, a percent ( % ) character for a wildcard, and an underscore ( _ ) character for a single character match, pattern is case insensitive:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="s1">&#39;axyzb&#39;</span> <span class="n">LIKE</span> <span class="s1">&#39;a%b&#39;</span><span class="p">,</span> <span class="s1">&#39;acb&#39;</span> <span class="n">LIKE</span> <span class="s1">&#39;A_B&#39;</span><span class="p">,</span> <span class="s1">&#39;axyzb&#39;</span> <span class="n">NOT</span> <span class="n">LIKE</span> <span class="s1">&#39;a%b&#39;</span><span class="p">,</span> <span class="s1">&#39;acb&#39;</span> <span class="n">NOT</span> <span class="n">LIKE</span> <span class="s1">&#39;a_b&#39;</span><span class="p">;</span>
<span class="n">fetched</span> <span class="n">rows</span> <span class="o">/</span> <span class="n">total</span> <span class="n">rows</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>
<span class="o">+----------------------+--------------------+--------------------------+------------------------+</span>
<span class="o">|</span> <span class="s1">&#39;axyzb&#39;</span> <span class="n">LIKE</span> <span class="s1">&#39;a%b&#39;</span>   <span class="o">|</span> <span class="s1">&#39;acb&#39;</span> <span class="n">LIKE</span> <span class="s1">&#39;A_B&#39;</span>   <span class="o">|</span> <span class="s1">&#39;axyzb&#39;</span> <span class="n">NOT</span> <span class="n">LIKE</span> <span class="s1">&#39;a%b&#39;</span>   <span class="o">|</span> <span class="s1">&#39;acb&#39;</span> <span class="n">NOT</span> <span class="n">LIKE</span> <span class="s1">&#39;a_b&#39;</span>   <span class="o">|</span>
<span class="o">|----------------------+--------------------+--------------------------+------------------------|</span>
<span class="o">|</span> <span class="kc">True</span>                 <span class="o">|</span> <span class="kc">True</span>               <span class="o">|</span> <span class="kc">False</span>                    <span class="o">|</span> <span class="kc">False</span>                  <span class="o">|</span>
<span class="o">+----------------------+--------------------+--------------------------+------------------------+</span>
</pre></div>
</div>
</section>
<section id="null-value-test">
<h3><a class="toc-backref" href="#id23" role="doc-backlink">NULL value test</a><a class="headerlink" href="#null-value-test" title="Link to this heading">¶</a></h3>
<p>Here is an example for null value test:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="mi">0</span> <span class="n">IS</span> <span class="n">NULL</span><span class="p">,</span> <span class="mi">0</span> <span class="n">IS</span> <span class="n">NOT</span> <span class="n">NULL</span><span class="p">,</span> <span class="n">NULL</span> <span class="n">IS</span> <span class="n">NULL</span><span class="p">,</span> <span class="n">NULL</span> <span class="n">IS</span> <span class="n">NOT</span> <span class="n">NULL</span><span class="p">;</span>
<span class="n">fetched</span> <span class="n">rows</span> <span class="o">/</span> <span class="n">total</span> <span class="n">rows</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>
<span class="o">+-------------+-----------------+----------------+--------------------+</span>
<span class="o">|</span> <span class="mi">0</span> <span class="n">IS</span> <span class="n">NULL</span>   <span class="o">|</span> <span class="mi">0</span> <span class="n">IS</span> <span class="n">NOT</span> <span class="n">NULL</span>   <span class="o">|</span> <span class="n">NULL</span> <span class="n">IS</span> <span class="n">NULL</span>   <span class="o">|</span> <span class="n">NULL</span> <span class="n">IS</span> <span class="n">NOT</span> <span class="n">NULL</span>   <span class="o">|</span>
<span class="o">|-------------+-----------------+----------------+--------------------|</span>
<span class="o">|</span> <span class="kc">False</span>       <span class="o">|</span> <span class="kc">True</span>            <span class="o">|</span> <span class="kc">True</span>           <span class="o">|</span> <span class="kc">False</span>              <span class="o">|</span>
<span class="o">+-------------+-----------------+----------------+--------------------+</span>
</pre></div>
</div>
</section>
<section id="regexp-value-test">
<h3><a class="toc-backref" href="#id24" role="doc-backlink">REGEXP value test</a><a class="headerlink" href="#regexp-value-test" title="Link to this heading">¶</a></h3>
<p>expr REGEXP pattern. The expr is string value, pattern is supports regular expression patterns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="s1">&#39;Hello!&#39;</span> <span class="n">REGEXP</span> <span class="s1">&#39;.*&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span> <span class="n">REGEXP</span> <span class="s1">&#39;b&#39;</span><span class="p">;</span>
<span class="n">fetched</span> <span class="n">rows</span> <span class="o">/</span> <span class="n">total</span> <span class="n">rows</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>
<span class="o">+------------------------+------------------+</span>
<span class="o">|</span> <span class="s1">&#39;Hello!&#39;</span> <span class="n">REGEXP</span> <span class="s1">&#39;.*&#39;</span>   <span class="o">|</span> <span class="s1">&#39;a&#39;</span> <span class="n">REGEXP</span> <span class="s1">&#39;b&#39;</span>   <span class="o">|</span>
<span class="o">|------------------------+------------------|</span>
<span class="o">|</span> <span class="mi">1</span>                      <span class="o">|</span> <span class="mi">0</span>                <span class="o">|</span>
<span class="o">+------------------------+------------------+</span>
</pre></div>
</div>
</section>
<section id="in-value-list-test">
<h3><a class="toc-backref" href="#id25" role="doc-backlink">IN value list test</a><a class="headerlink" href="#in-value-list-test" title="Link to this heading">¶</a></h3>
<p>Here is an example for IN value test:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="mi">1</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">3</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="n">fetched</span> <span class="n">rows</span> <span class="o">/</span> <span class="n">total</span> <span class="n">rows</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>
<span class="o">+---------------+-------------------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>   <span class="o">|</span> <span class="mi">3</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>   <span class="o">|</span>
<span class="o">|---------------+-------------------|</span>
<span class="o">|</span> <span class="kc">True</span>          <span class="o">|</span> <span class="kc">True</span>              <span class="o">|</span>
<span class="o">+---------------+-------------------+</span>
</pre></div>
</div>
</section>
<section id="between-range-test">
<h3><a class="toc-backref" href="#id26" role="doc-backlink">BETWEEN range test</a><a class="headerlink" href="#between-range-test" title="Link to this heading">¶</a></h3>
<p>Here is an example for range test by BETWEEN expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">&gt;</span> <span class="n">SELECT</span>
<span class="o">...</span>  <span class="mi">1</span> <span class="n">BETWEEN</span> <span class="mi">1</span> <span class="n">AND</span> <span class="mi">3</span><span class="p">,</span>
<span class="o">...</span>  <span class="mi">4</span> <span class="n">BETWEEN</span> <span class="mi">1</span> <span class="n">AND</span> <span class="mi">3</span><span class="p">,</span>
<span class="o">...</span>  <span class="mi">4</span> <span class="n">NOT</span> <span class="n">BETWEEN</span> <span class="mi">1</span> <span class="n">AND</span> <span class="mi">3</span><span class="p">;</span>
<span class="n">fetched</span> <span class="n">rows</span> <span class="o">/</span> <span class="n">total</span> <span class="n">rows</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>
<span class="o">+---------------------+---------------------+-------------------------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="n">BETWEEN</span> <span class="mi">1</span> <span class="n">AND</span> <span class="mi">3</span>   <span class="o">|</span> <span class="mi">4</span> <span class="n">BETWEEN</span> <span class="mi">1</span> <span class="n">AND</span> <span class="mi">3</span>   <span class="o">|</span> <span class="mi">4</span> <span class="n">NOT</span> <span class="n">BETWEEN</span> <span class="mi">1</span> <span class="n">AND</span> <span class="mi">3</span>   <span class="o">|</span>
<span class="o">|---------------------+---------------------+-------------------------|</span>
<span class="o">|</span> <span class="kc">True</span>                <span class="o">|</span> <span class="kc">False</span>               <span class="o">|</span> <span class="kc">True</span>                    <span class="o">|</span>
<span class="o">+---------------------+---------------------+-------------------------+</span>
</pre></div>
</div>
</section>
</section>
<section id="function-call">
<h2><a class="toc-backref" href="#id27" role="doc-backlink">Function Call</a><a class="headerlink" href="#function-call" title="Link to this heading">¶</a></h2>
<section id="id5">
<h3><a class="toc-backref" href="#id28" role="doc-backlink">Description</a><a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<p>A function call is declared by function name followed by its arguments. The arguments are enclosed in parentheses and separated by comma. For complete function list supported, please see also: <a class="reference external" href="functions.rst">SQL Functions</a></p>
<section id="syntax">
<h4><a class="toc-backref" href="#id29" role="doc-backlink">Syntax</a><a class="headerlink" href="#syntax" title="Link to this heading">¶</a></h4>
<p>A typical function call is in the following form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>function_name ( [ expression [, expression]* ]? )
</pre></div>
</div>
</section>
<section id="null-handling">
<h4><a class="toc-backref" href="#id30" role="doc-backlink">Null Handling</a><a class="headerlink" href="#null-handling" title="Link to this heading">¶</a></h4>
<p>If any argument is missing or null, the final result of evaluation will be missing or null accordingly.</p>
</section>
</section>
<section id="arithmetic-function-examples">
<h3><a class="toc-backref" href="#id31" role="doc-backlink">Arithmetic function examples</a><a class="headerlink" href="#arithmetic-function-examples" title="Link to this heading">¶</a></h3>
<p>Here is an example for different type of arithmetic expressions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="nb">abs</span><span class="p">(</span><span class="o">-</span><span class="mf">1.234</span><span class="p">),</span> <span class="nb">abs</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="nb">abs</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">));</span>
<span class="n">fetched</span> <span class="n">rows</span> <span class="o">/</span> <span class="n">total</span> <span class="n">rows</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>
<span class="o">+---------------+---------------------+</span>
<span class="o">|</span> <span class="nb">abs</span><span class="p">(</span><span class="o">-</span><span class="mf">1.234</span><span class="p">)</span>   <span class="o">|</span> <span class="nb">abs</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="nb">abs</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">))</span>   <span class="o">|</span>
<span class="o">|---------------+---------------------|</span>
<span class="o">|</span> <span class="mf">1.234</span>         <span class="o">|</span> <span class="mi">5</span>                   <span class="o">|</span>
<span class="o">+---------------+---------------------+</span>
</pre></div>
</div>
</section>
<section id="date-function-examples">
<h3><a class="toc-backref" href="#id32" role="doc-backlink">Date function examples</a><a class="headerlink" href="#date-function-examples" title="Link to this heading">¶</a></h3>
<p>Here is an example for different type of arithmetic expressions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="n">dayofmonth</span><span class="p">(</span><span class="n">DATE</span> <span class="s1">&#39;2020-07-07&#39;</span><span class="p">);</span>
<span class="n">fetched</span> <span class="n">rows</span> <span class="o">/</span> <span class="n">total</span> <span class="n">rows</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>
<span class="o">+---------------------------------+</span>
<span class="o">|</span> <span class="n">dayofmonth</span><span class="p">(</span><span class="n">DATE</span> <span class="s1">&#39;2020-07-07&#39;</span><span class="p">)</span>   <span class="o">|</span>
<span class="o">|---------------------------------|</span>
<span class="o">|</span> <span class="mi">7</span>                               <span class="o">|</span>
<span class="o">+---------------------------------+</span>
</pre></div>
</div>
</section>
<section id="id6">
<h3><a class="toc-backref" href="#id33" role="doc-backlink">Limitations</a><a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p>Only a subset of the SQL functions above is implemented in new engine for now. More function support are being added.</p></li>
<li><p>For now function name is required to be lowercase.</p></li>
</ol>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Example</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;workshop participant.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../../_sources/user/dql/expressions.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>